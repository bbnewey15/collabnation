{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { mergeClasses } from '@material-ui/styles';\nimport socketIOClient from 'socket.io-client';\n\nvar util = require('../../util/util'); //Necessary to use this function to allow the useStyles hook to work\n\n\nvar UiTableWithStyles = function UiTableWithStyles(_ref) {\n  var rows = _ref.rows;\n  var useStyles = makeStyles(function (theme) {\n    return {\n      root: {\n        flexGrow: 1,\n        padding: '30px'\n      },\n      paper: _defineProperty({\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary\n      }, \"padding\", '30px 15px 32px 15px')\n    };\n  }); //only works inside a functional component\n\n  var classes = useStyles(); //i do not now why this step is necessary. the arrays before and after seem to be identical but apparently they are not\n  // i had to do the same in api/machines\n\n  var machines = util.machine_results_to_array(rows);\n  return React.createElement(\"div\", {\n    className: \"jsx-3310407215\" + \" \" + (mergeClasses.root || \"\")\n  }, React.createElement(_JSXStyle, {\n    id: \"3310407215\"\n  }, \"..jsx-3310407215{mergeClasses.root;}.jsx-3310407215{margin:2% 2% 3% 2%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2JibmV3ZXkvbm9kZS13b3Jrc3BhY2UvbmV4dC1teXNxbC9jb21wb25lbnRzL01hY2hpbmUvVWkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUNZLEFBRXVCLEFBQXVCLGtCQUF0QixDQUF1QiIsImZpbGUiOiIvaG9tZS9iYm5ld2V5L25vZGUtd29ya3NwYWNlL25leHQtbXlzcWwvY29tcG9uZW50cy9NYWNoaW5lL1VpLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IFBhcGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1BhcGVyJztcblxuaW1wb3J0IEdyaWQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvR3JpZCc7XG5pbXBvcnQgeyBtZXJnZUNsYXNzZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvc3R5bGVzJztcblxuaW1wb3J0IHNvY2tldElPQ2xpZW50IGZyb20gJ3NvY2tldC5pby1jbGllbnQnXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi4vLi4vdXRpbC91dGlsJylcblxuLy9OZWNlc3NhcnkgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYWxsb3cgdGhlIHVzZVN0eWxlcyBob29rIHRvIHdvcmtcbmNvbnN0IFVpVGFibGVXaXRoU3R5bGVzID0gKHtyb3dzfSkgPT4ge1xuICBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKHRoZW1lID0+ICh7XG4gICAgcm9vdDoge1xuICAgICAgZmxleEdyb3c6IDEsXG4gICAgICBwYWRkaW5nOiAnMzBweCcsXG4gICAgICBcbiAgICAgIFxuICAgIH0sXG4gICAgcGFwZXI6IHtcbiAgICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5zZWNvbmRhcnksXG4gICAgICBwYWRkaW5nOiAnMzBweCAxNXB4IDMycHggMTVweCcsXG4gICAgfSxcbiAgXG4gIH0pKTtcblxuICAvL29ubHkgd29ya3MgaW5zaWRlIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcygpO1xuXG4gIC8vaSBkbyBub3Qgbm93IHdoeSB0aGlzIHN0ZXAgaXMgbmVjZXNzYXJ5LiB0aGUgYXJyYXlzIGJlZm9yZSBhbmQgYWZ0ZXIgc2VlbSB0byBiZSBpZGVudGljYWwgYnV0IGFwcGFyZW50bHkgdGhleSBhcmUgbm90XG4gIC8vIGkgaGFkIHRvIGRvIHRoZSBzYW1lIGluIGFwaS9tYWNoaW5lc1xuICBjb25zdCBtYWNoaW5lcyA9IHV0aWwubWFjaGluZV9yZXN1bHRzX3RvX2FycmF5KHJvd3MpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e21lcmdlQ2xhc3Nlcy5yb290fT5cbjxzdHlsZSBqc3g+e2BcbiAgICAgLnttZXJnZUNsYXNzZXMucm9vdH0geyAgbWFyZ2luOiAyJSAyJSAzJSAyJTsgfVxuIGB9PC9zdHlsZT5cbjxHcmlkIGNvbnRhaW5lciBzcGFjaW5nPXszfT5cbiA8R3JpZCBpdGVtIHhzPXsxfT5cbiAgICAgPGxhYmVsPkFpciBDb21wcmVzc29yPC9sYWJlbD5cbiAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PjxzcGFuPjc1Rjwvc3Bhbj48YnIvPjxzcGFuPjc1Rjwvc3Bhbj48L1BhcGVyPlxuIDwvR3JpZD5cbiA8R3JpZCBpdGVtIHhzPXsxfT5cbiA8bGFiZWw+QWlyIERyeWVyPC9sYWJlbD5cbiAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PjxzcGFuPjc1Rjwvc3Bhbj48YnIvPjxzcGFuPjc1Rjwvc3Bhbj48L1BhcGVyPlxuIDwvR3JpZD5cbiA8R3JpZCBpdGVtIHhzPXsyfT5cbiA8bGFiZWw+VGFuayAxPC9sYWJlbD5cbiAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PjxzcGFuPjc1Rjwvc3Bhbj48YnIvPjxzcGFuPjc1Rjwvc3Bhbj48L1BhcGVyPlxuIDwvR3JpZD5cbiA8R3JpZCBpdGVtIHhzPXszfT4gIFxuICAgIDxHcmlkIGNvbnRhaW5lciBzcGFjaW5nPXsxfT5cbiAgICAgICAgPEdyaWQgaXRlbSB4cz17NH0+ICBcbiAgICAgICAgICAgIDxsYWJlbD4xPC9sYWJlbD5cbiAgICAgICAgICAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PjxzcGFuPjc1Rjwvc3Bhbj48YnIvPjxzcGFuPjc1Rjwvc3Bhbj48L1BhcGVyPlxuICAgICAgICA8L0dyaWQ+XG4gICAgICAgIDxHcmlkIGl0ZW0geHM9ezR9PiAgXG4gICAgICAgICAgICA8bGFiZWw+MjwvbGFiZWw+XG4gICAgICAgICAgICA8UGFwZXIgY2xhc3NOYW1lPXtjbGFzc2VzLnBhcGVyfT48c3Bhbj43NUY8L3NwYW4+PGJyLz48c3Bhbj43NUY8L3NwYW4+PC9QYXBlcj5cbiAgICAgICAgPC9HcmlkPlxuICAgICAgICA8R3JpZCBpdGVtIHhzPXs0fT4gIFxuICAgICAgICAgICAgPGxhYmVsPjM8L2xhYmVsPlxuICAgICAgICAgICAgPFBhcGVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wYXBlcn0+PHNwYW4+NzVGPC9zcGFuPjxici8+PHNwYW4+NzVGPC9zcGFuPjwvUGFwZXI+XG4gICAgICAgIDwvR3JpZD5cbiAgICA8L0dyaWQ+XG4gPC9HcmlkPiAgXG4gPEdyaWQgaXRlbSB4cz17Mn0+XG4gPGxhYmVsPlJhbmRvbSBCb3g8L2xhYmVsPlxuICAgPFBhcGVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wYXBlcn0+PHNwYW4+NzVGPC9zcGFuPjxici8+PHNwYW4+NzVGPC9zcGFuPjwvUGFwZXI+XG4gPC9HcmlkPlxuIDxHcmlkIGl0ZW0geHM9ezJ9PlxuIDxsYWJlbD5OaXRyb2dlbiBUYW5rPC9sYWJlbD5cbiAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMucGFwZXJ9PjxzcGFuPjc1Rjwvc3Bhbj48YnIvPjxzcGFuPjc1Rjwvc3Bhbj48L1BhcGVyPlxuIDwvR3JpZD5cbjwvR3JpZD5cblxuPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVWkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIFxuICAgIF9pc01vdW50ZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgIHJvd3M6IFwiXCIsXG4gICAgICAgICAgZW5kcG9pbnQ6IFwiaHR0cDovL2xvY2FsaG9zdDo0MDAwXCJcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKXtcbiAgICAgIC8vX2lzTW91bnRlZCBjaGVja3MgaWYgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIGJlZm9yZSBjYWxsaW5nIGFwaSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgICAgIHRoaXMuX2lzTW91bnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHsgZW5kcG9pbnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHNvY2tldElPQ2xpZW50KGVuZHBvaW50KTtcbiAgICAgICAgc29ja2V0Lm9uKFwiRnJvbUNcIiwgYXN5bmMgZGF0YSA9PiB7XG4gICAgICAgICAgICBpZih0aGlzLl9pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgdmFyIGpzb24gPSBhd2FpdCBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcm93czoganNvbi5tYWNoaW5lcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7IFxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCl7XG4gICAgICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgIGNvbnN0ICByb3dzICAgPSB0aGlzLnN0YXRlLnJvd3M7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxoMT5NYWNoaW5lIGxpc3Qge3Jvd3MgID8gIDxwPjxVaVRhYmxlV2l0aFN0eWxlcyByb3dzPXtyb3dzfS8+PC9wPiA6IDxwPkxvYWRpbmcuLi48L3A+fSA8L2gxPlxuICAgICAgKTtcbiAgICB9XG59Il19 */\\n/*@ sourceURL=/home/bbnewey/node-workspace/next-mysql/components/Machine/Ui.js */\"), React.createElement(Grid, {\n    container: true,\n    spacing: 3\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 1\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"Air Compressor\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"))), React.createElement(Grid, {\n    item: true,\n    xs: 1\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"Air Dryer\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"))), React.createElement(Grid, {\n    item: true,\n    xs: 2\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"Tank 1\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"))), React.createElement(Grid, {\n    item: true,\n    xs: 3\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 1\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 4\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"1\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"))), React.createElement(Grid, {\n    item: true,\n    xs: 4\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"2\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"))), React.createElement(Grid, {\n    item: true,\n    xs: 4\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"3\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"))))), React.createElement(Grid, {\n    item: true,\n    xs: 2\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"Random Box\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"))), React.createElement(Grid, {\n    item: true,\n    xs: 2\n  }, React.createElement(\"label\", {\n    className: \"jsx-3310407215\"\n  }, \"Nitrogen Tank\"), React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\"), React.createElement(\"br\", {\n    className: \"jsx-3310407215\"\n  }), React.createElement(\"span\", {\n    className: \"jsx-3310407215\"\n  }, \"75F\")))));\n};\n\nvar Ui =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Ui, _React$Component);\n\n  function Ui(props) {\n    var _this;\n\n    _classCallCheck(this, Ui);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Ui).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", false);\n\n    _this.state = {\n      rows: \"\",\n      endpoint: \"http://localhost:4000\"\n    };\n    return _this;\n  }\n\n  _createClass(Ui, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      //_isMounted checks if the component is mounted before calling api to prevent memory leak\n      this._isMounted = true;\n      var endpoint = this.state.endpoint;\n      var socket = socketIOClient(endpoint);\n      socket.on(\"FromC\",\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(data) {\n          var json;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!_this2._isMounted) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return JSON.parse(data);\n\n                case 3:\n                  json = _context.sent;\n\n                  _this2.setState({\n                    rows: json.machines\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var rows = this.state.rows;\n      return React.createElement(\"h1\", null, \"Machine list \", rows ? React.createElement(\"p\", null, React.createElement(UiTableWithStyles, {\n        rows: rows\n      })) : React.createElement(\"p\", null, \"Loading...\"), \" \");\n    }\n  }]);\n\n  return Ui;\n}(React.Component);\n\nexport { Ui as default };","map":{"version":3,"sources":["/home/bbnewey/node-workspace/next-mysql/components/Machine/Ui.js"],"names":["React","makeStyles","Paper","Grid","mergeClasses","socketIOClient","util","require","UiTableWithStyles","rows","useStyles","theme","root","flexGrow","padding","paper","spacing","textAlign","color","palette","text","secondary","classes","machines","machine_results_to_array","Ui","props","state","endpoint","_isMounted","socket","on","data","JSON","parse","json","setState","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nimport Grid from '@material-ui/core/Grid';\nimport { mergeClasses } from '@material-ui/styles';\n\nimport socketIOClient from 'socket.io-client'\nconst util = require('../../util/util')\n\n//Necessary to use this function to allow the useStyles hook to work\nconst UiTableWithStyles = ({rows}) => {\n  const useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1,\n      padding: '30px',\n      \n      \n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n      padding: '30px 15px 32px 15px',\n    },\n  \n  }));\n\n  //only works inside a functional component\n  const classes = useStyles();\n\n  //i do not now why this step is necessary. the arrays before and after seem to be identical but apparently they are not\n  // i had to do the same in api/machines\n  const machines = util.machine_results_to_array(rows);\n\n  return (\n    <div className={mergeClasses.root}>\n<style jsx>{`\n     .{mergeClasses.root} {  margin: 2% 2% 3% 2%; }\n `}</style>\n<Grid container spacing={3}>\n <Grid item xs={1}>\n     <label>Air Compressor</label>\n   <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n </Grid>\n <Grid item xs={1}>\n <label>Air Dryer</label>\n   <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n </Grid>\n <Grid item xs={2}>\n <label>Tank 1</label>\n   <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n </Grid>\n <Grid item xs={3}>  \n    <Grid container spacing={1}>\n        <Grid item xs={4}>  \n            <label>1</label>\n            <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n        </Grid>\n        <Grid item xs={4}>  \n            <label>2</label>\n            <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n        </Grid>\n        <Grid item xs={4}>  \n            <label>3</label>\n            <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n        </Grid>\n    </Grid>\n </Grid>  \n <Grid item xs={2}>\n <label>Random Box</label>\n   <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n </Grid>\n <Grid item xs={2}>\n <label>Nitrogen Tank</label>\n   <Paper className={classes.paper}><span>75F</span><br/><span>75F</span></Paper>\n </Grid>\n</Grid>\n\n</div>\n  )\n}\n\nexport default class Ui extends React.Component {\n    \n    _isMounted = false;\n\n    constructor(props){\n        super(props);\n        this.state = {\n          rows: \"\",\n          endpoint: \"http://localhost:4000\"\n        };\n        \n    }\n\n    componentDidMount(){\n      //_isMounted checks if the component is mounted before calling api to prevent memory leak\n        this._isMounted = true;\n        const { endpoint } = this.state;\n        const socket = socketIOClient(endpoint);\n        socket.on(\"FromC\", async data => {\n            if(this._isMounted) {\n              var json = await JSON.parse(data);\n              this.setState({ rows: json.machines });\n            }\n        }); \n    }\n\n    componentWillUnmount(){\n        this._isMounted = false;\n    }\n\n    render() {\n      const  rows   = this.state.rows;\n\n      return (\n        <h1>Machine list {rows  ?  <p><UiTableWithStyles rows={rows}/></p> : <p>Loading...</p>} </h1>\n      );\n    }\n}"]},"metadata":{},"sourceType":"module"}